{"version":3,"sources":["../src/readout.js"],"names":["Readout","callback","customAttribute","readoutNamespace","readoutSelector","$","each","i","el","readoutSrc","parents","andSelf","map","parent","getAttribute","get","reduce","result","data","html","showdown","Converter","makeHtml","innerHTML"],"mappings":"aAAA,GAAIA,SAAU,QAAVA,QAAU,CAASC,QAAT,CAAmBC,eAAnB,CAAoC,CAChD,GAAIC,kBAAmBD,iBAAmB,kBAA1C,CACEE,oBAAsBD,gBAAtB,IADF,CAEAE,EAAKD,eAAL,eAAkCA,eAAlC,OAAuDE,IAAvD,CAA4D,SAAUC,CAAV,CAAaC,EAAb,CAAiB,CAC3E,GAAIC,YAAaJ,EAAEG,EAAF,EAAME,OAAN,CAAcN,eAAd,EAA+BO,OAA/B,GACdC,GADc,CACV,SAAUL,CAAV,CAAaM,MAAb,CAAqB,CACxB,MAAOA,QAAOC,YAAP,CAAoBX,gBAApB,CAAP,CACD,CAHc,EAGZY,GAHY,GAIdC,MAJc,CAIP,SAAUC,MAAV,CAAkBR,UAAlB,CAA8B,CACpC,MAAUQ,OAAV,KAAoBR,UAApB,CACD,CANc,CAAjB,CAOAJ,EAAEU,GAAF,CAAMN,UAAN,CAAkB,SAAUS,IAAV,CAAgB,CAChC,GAAIC,MAAQ,GAAIC,UAASC,SAAb,EAAD,CAA2BC,QAA3B,CAAoCJ,IAApC,CAAX,CACA,GAAIjB,QAAJ,CAAc,CACZA,SAASO,EAAT,CAAaW,IAAb,EACD,CAFD,IAEO,CACLX,GAAGe,SAAH,CAAeJ,IAAf,CACD,CACF,CAPD,EAQD,CAhBD,EAiBD,CApBD","file":"readout.js","sourcesContent":["var Readout = function(callback, customAttribute) {\n  let readoutNamespace = customAttribute || 'data-readout-src',\n    readoutSelector = `[${readoutNamespace}]`    \n  $(`${readoutSelector}:not(:has(>${readoutSelector}))`).each(function (i, el) {\n    let readoutSrc = $(el).parents(readoutSelector).andSelf()\n      .map(function (i, parent) {\n        return parent.getAttribute(readoutNamespace)\n      }).get()\n      .reduce(function (result, readoutSrc) {\n        return `${result}/${readoutSrc}`\n      })\n    $.get(readoutSrc, function (data) {\n      let html = (new showdown.Converter()).makeHtml(data)\n      if (callback) {\n        callback(el, html)\n      } else {\n        el.innerHTML = html\n      }\n    })\n  })\n}\n"]}